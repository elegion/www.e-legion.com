!function i(r,o,s){function u(t,e){if(!o[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var c=o[t]={exports:{}};r[t][0].call(c.exports,function(e){return u(r[t][1][e]||e)},c,c.exports,i,r,o,s)}return o[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,n){"use strict";function a(){!function(){var o={id:0,person:0,price:3e3,hours:1,money:3e3},s=[],n="$",i="rates",u="active";function a(e){var t=$(e).data("itemId"),n=parseInt($(e).find(".js-calc-person").val())||0,a=parseInt($(e).find(".js-calc-price").data("price")),c=parseInt($(e).find(".js-calc-hours").val())||0,i=a*c,r=$.extend({},o,{id:t,person:n,price:a,hours:c,money:i});s.push(r),function(e){$(e).find(".devselect").selectpicker(),function(e){var n="developers-calc-group-hover",a="developers-calc-group-focused",c="developers-calc-group-inited";$(e).find(".js-calc-hours-group").not("."+c).each(function(){var e=this;$(e).addClass(c),$(e).hover(function(){$(e).addClass(n)},function(){$(e).removeClass(n)});var t=$(e).find("input");t.focusin(function(){$(e).addClass(a)}),t.focusout(function(){$(e).removeClass(a)})})}(e),function(e){$(e).find(".js-calc-hours").on("input",function(){var n=parseInt($(this).val())||0,a=$(this).closest(".js-calc-item").data("itemId");s.some(function(e,t){if(a==e.id)return s[t].hours=n,s[t].money=n*s[t].price,!0}),l()})}(e),function(e){$(e).find(".js-calc-remove").click(function(){!function(e){var t=e.data("itemId");e.remove(),function(t){s=s.filter(function(e){return e.id!==t})}(t),l()}($(this).closest(".js-calc-item"))})}(e),function(e){$(e).find(".js-calc-switch").click(function(){var e=$(this).closest(".js-calc-item");e.hasClass(u)?function(e){e.removeClass(u)}(e):d(e)})}(e)}(e)}function l(){var t=0;$(s).each(function(){t+=this.money;var e=$(".js-calc-item[data-item-id='"+this.id+"']");e.length&&(e.find(".js-calc-hours").val(this.hours),e.find(".js-calc-money").text(c(this.money)+" $"))});var e=c(Math.round(1*t))+" "+n;$(".js-calc-total").text(e),1<s.length?$(".js-calc-remove").removeAttr("disabled"):$(".js-calc-remove").attr("disabled","disabled")}function d(e){$(".js-calc-item").removeClass(u),e.addClass(u)}$(".js-calc-item").each(function(){a(this)}),$(".js-calc-currency").click(function(e){e.preventDefault(),$(".js-calc-currency").removeClass("active"),$(this).addClass("active"),"USD",n="$",l()}),$(".js-calc-add").click(function(){!function(){var e=$("#calc-item-tpl").html(),t=$(e),n=s.length?s[s.length-1].id+1:1;t.attr("data-item-id",n),a(t),$(".js-calc-body").append(t),l(),d(t)}()}),"USD",n="$",function(){var e=localStorage.getItem(i);if(e){var t=JSON.parse(e),n=new Date(Date.now()-864e5),a=n.getUTCFullYear(),c=n.getMonth()+1;if(a+"-"+(c<10?"0"+c:c)+"-"+n.getDate()==t.date)return{EUR:t.rates.EUR,USD:t.rates.USD}}!function(){var e=new XMLHttpRequest;e.open("GET","https://api.exchangeratesapi.io/latest?base=RUB",!0),e.onload=function(){if(200===this.status){localStorage.setItem(i,this.responseText);var e=JSON.parse(this.responseText);({EUR:e.rates.EUR,USD:e.rates.USD})}},e.send()}()}(),l()}()}function c(e){return function(e,t,n,a){var c,i,r,o=1<arguments.length&&void 0!==t?t:0,s=2<arguments.length&&void 0!==n?n:".",u=3<arguments.length&&void 0!==a?a:",",l=[];return 3<(l=(o?(c=e,i=o,r=Math.pow(10,i),""+(Math.round(c*r)/r).toFixed(i)):""+Math.round(e)).split("."))[0].length&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(s)}(e,e==Math.round(e)?0:2,","," ")}document.addEventListener("DOMContentLoaded",function(){a()})},{}]},{},[1]);