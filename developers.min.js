!function i(r,o,s){function u(e,t){if(!o[e]){if(!r[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var c=o[e]={exports:{}};r[e][0].call(c.exports,function(t){return u(r[e][1][t]||t)},c,c.exports,i,r,o,s)}return o[e].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)u(s[t]);return u}({1:[function(t,e,n){"use strict";function a(){!function(){var o={id:0,person:0,price:3e3,hours:1,money:3e3},s=[],n="USD",a="$",i={EUR:.0128224362,USD:.0141046798},r="rates",u="active";function c(t){var e=$(t).data("itemId"),n=parseInt($(t).find(".js-calc-person").val())||0,a=parseInt($(t).find(".js-calc-price").data("price")),c=parseInt($(t).find(".js-calc-hours").val())||0,i=a*c,r=$.extend({},o,{id:e,person:n,price:a,hours:c,money:i});s.push(r),function(t){$(t).find(".devselect").selectpicker(),function(t){var n="developers-calc-group-hover",a="developers-calc-group-focused",c="developers-calc-group-inited";$(t).find(".js-calc-hours-group").not("."+c).each(function(){var t=this;$(t).addClass(c),$(t).hover(function(){$(t).addClass(n)},function(){$(t).removeClass(n)});var e=$(t).find("input");e.focusin(function(){$(t).addClass(a)}),e.focusout(function(){$(t).removeClass(a)})})}(t),function(t){$(t).find(".js-calc-hours").on("input",function(){var n=parseInt($(this).val())||0,a=$(this).closest(".js-calc-item").data("itemId");s.some(function(t,e){if(a==t.id)return s[e].hours=n,s[e].money=n*s[e].price,!0}),l()})}(t),function(t){$(t).find(".js-calc-remove").click(function(){!function(t){var e=t.data("itemId");t.remove(),function(e){s=s.filter(function(t){return t.id!==e})}(e),l()}($(this).closest(".js-calc-item"))})}(t),function(t){$(t).find(".js-calc-switch").click(function(){var t=$(this).closest(".js-calc-item");t.hasClass(u)?function(t){t.removeClass(u)}(t):d(t)})}(t)}(t)}function l(){var e=0;$(s).each(function(){e+=this.money;var t=$(".js-calc-item[data-item-id='"+this.id+"']");t.length&&(t.find(".js-calc-hours").val(this.hours),t.find(".js-calc-money").text(f(this.money)+" ₽"))});var t=f(Math.round(e*i[n]))+" "+a;$(".js-calc-total").text(t),1<s.length?$(".js-calc-remove").removeAttr("disabled"):$(".js-calc-remove").attr("disabled","disabled")}function d(t){$(".js-calc-item").removeClass(u),t.addClass(u)}$(".js-calc-item").each(function(){c(this)}),$(".js-calc-currency").click(function(t){t.preventDefault(),$(".js-calc-currency").removeClass("active"),$(this).addClass("active"),n=$(this).data("code"),a=$(this).data("sign"),l()}),$(".js-calc-add").click(function(){!function(){var t=$("#calc-item-tpl").html(),e=$(t),n=s.length?s[s.length-1].id+1:1;e.attr("data-item-id",n),c(e),$(".js-calc-body").append(e),l(),d(e)}()}),n=$(".js-calc-currency.active").data("code"),a=$(".js-calc-currency.active").data("sign"),function(){var t=localStorage.getItem(r);if(t){var e=JSON.parse(t),n=new Date(Date.now()-864e5),a=n.getUTCFullYear(),c=n.getMonth()+1;if(a+"-"+(c<10?"0"+c:c)+"-"+n.getDate()==e.date)return i={EUR:e.rates.EUR,USD:e.rates.USD}}!function(){var t=new XMLHttpRequest;t.open("GET","https://api.exchangeratesapi.io/latest?base=RUB",!0),t.onload=function(){if(200===this.status){localStorage.setItem(r,this.responseText);var t=JSON.parse(this.responseText);i={EUR:t.rates.EUR,USD:t.rates.USD}}},t.send()}()}(),l()}()}function f(t){return function(t,e,n,a){var c,i,r,o=1<arguments.length&&void 0!==e?e:0,s=2<arguments.length&&void 0!==n?n:".",u=3<arguments.length&&void 0!==a?a:",",l=[];return 3<(l=(o?(c=t,i=o,r=Math.pow(10,i),""+(Math.round(c*r)/r).toFixed(i)):""+Math.round(t)).split("."))[0].length&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(s)}(t,t==Math.round(t)?0:2,","," ")}document.addEventListener("DOMContentLoaded",function(){a()})},{}]},{},[1]);